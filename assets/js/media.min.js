/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./_src/js/media.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./_src/js/media.js":
/*!**************************!*\
  !*** ./_src/js/media.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * Adds a Smush Now button and displays stats in Media Attachment Details Screen\n */\n(function ($, _) {\n\t'use strict';\n\n\t// Local reference to the WordPress media namespace.\n\n\tvar smush_media = wp.media,\n\t    sharedTemplate = \"<label class='setting smush-stats' data-setting='description'><span class='name'><%= label %></span><span class='value'><%= value %></span></label>\";\n\n\tif ('undefined' !== typeof smush_media.view && 'undefined' !== typeof smush_media.view.Attachment.Details.TwoColumn) {\n\t\t// Local instance of the Attachment Details TwoColumn used in the edit attachment modal view\n\t\tvar smushMediaTwoColumn = smush_media.view.Attachment.Details.TwoColumn;\n\n\t\t/**\n   * Add Smush details to attachment.\n  *\n  * A similar view to media.view.Attachment.Details\n  * for use in the Edit Attachment modal.\n  *\n  * @see wp-includes/js/media-grid.js\n   */\n\t\tsmush_media.view.Attachment.Details.TwoColumn = smushMediaTwoColumn.extend({\n\n\t\t\trender: function render() {\n\t\t\t\t// Ensure that the main attachment fields are rendered.\n\t\t\t\tsmush_media.view.Attachment.prototype.render.apply(this, arguments);\n\n\t\t\t\tif (typeof this.model.get('smush') === 'undefined') {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t\t/**\n     * Detach the views, append our custom fields, make sure that our data is fully updated\n     * and re-render the updated view.\n     */\n\t\t\t\tthis.views.detach();\n\n\t\t\t\tvar detailsHtml = this.$el.find('.settings');\n\n\t\t\t\t// Create the template.\n\t\t\t\tvar template = _.template(sharedTemplate);\n\t\t\t\tvar html = template({\n\t\t\t\t\t/**\n      * @var {array}  smush_vars.strings  Localization strings.\n      * @var {object} smush_vars          Object from wp_localize_script()\n      */\n\t\t\t\t\tlabel: smush_vars.strings['stats_label'],\n\t\t\t\t\tvalue: this.model.get('smush')\n\t\t\t\t});\n\n\t\t\t\tdetailsHtml.append(html);\n\t\t\t\tthis.model.fetch();\n\t\t\t\tthis.views.render();\n\n\t\t\t\treturn this;\n\t\t\t}\n\t\t});\n\t}\n\n\t// Local instance of the Attachment Details TwoColumn used in the edit attachment modal view\n\tvar smushAttachmentDetails = smush_media.view.Attachment.Details;\n\n\t/**\n  * Add Smush details to attachment.\n  */\n\tsmush_media.view.Attachment.Details = smushAttachmentDetails.extend({\n\t\tinitialize: function initialize() {\n\t\t\tthis.listenTo(this.model, 'change', this.render);\n\t\t\tthis.listenTo(this.model, 'destroy', this.remove);\n\t\t},\n\n\t\trender: function render() {\n\t\t\t// Ensure that the main attachment fields are rendered.\n\t\t\tsmush_media.view.Attachment.prototype.render.apply(this, arguments);\n\n\t\t\tif (typeof this.model.get('smush') === 'undefined') {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this.model.isNew()) {\n\t\t\t\tsetTimeout(this.reCheckStatus, 2000, this);\n\t\t\t}\n\n\t\t\t/**\n    * Detach the views, append our custom fields, make sure that our data is fully updated\n    * and re-render the updated view.\n    */\n\t\t\tthis.views.detach();\n\n\t\t\tvar template = _.template(sharedTemplate);\n\t\t\tvar html = template({\n\t\t\t\t/**\n     * @var {object} smush_vars          Object from wp_localize_script()\n     * @var {array}  smush_vars.strings  Localization strings.\n     */\n\t\t\t\tlabel: smush_vars.strings['stats_label'],\n\t\t\t\tvalue: this.model.get('smush')\n\t\t\t});\n\n\t\t\tthis.$el.append(html);\n\n\t\t\treturn this;\n\t\t},\n\n\t\treCheckStatus: function reCheckStatus(obj) {\n\t\t\tvar _this = obj;\n\n\t\t\tvar image = new wp.api.models.Media({ id: obj.model.get('id') });\n\t\t\timage.fetch({ attribute: 'smush' }).done(function (img) {\n\t\t\t\t/** @var {object|string} img.smush  Smush stats. */\n\t\t\t\tif (_typeof(img.smush) === 'object') {\n\t\t\t\t\t_this.model.fetch();\n\t\t\t\t} else {\n\t\t\t\t\t_this.render();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n})(jQuery, _);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fc3JjL2pzL21lZGlhLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vX3NyYy9qcy9tZWRpYS5qcz8yOTQ0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG4vKipcbiAqIEFkZHMgYSBTbXVzaCBOb3cgYnV0dG9uIGFuZCBkaXNwbGF5cyBzdGF0cyBpbiBNZWRpYSBBdHRhY2htZW50IERldGFpbHMgU2NyZWVuXG4gKi9cbihmdW5jdGlvbiAoJCwgXykge1xuXHQndXNlIHN0cmljdCc7XG5cblx0Ly8gTG9jYWwgcmVmZXJlbmNlIHRvIHRoZSBXb3JkUHJlc3MgbWVkaWEgbmFtZXNwYWNlLlxuXG5cdHZhciBzbXVzaF9tZWRpYSA9IHdwLm1lZGlhLFxuXHQgICAgc2hhcmVkVGVtcGxhdGUgPSBcIjxsYWJlbCBjbGFzcz0nc2V0dGluZyBzbXVzaC1zdGF0cycgZGF0YS1zZXR0aW5nPSdkZXNjcmlwdGlvbic+PHNwYW4gY2xhc3M9J25hbWUnPjwlPSBsYWJlbCAlPjwvc3Bhbj48c3BhbiBjbGFzcz0ndmFsdWUnPjwlPSB2YWx1ZSAlPjwvc3Bhbj48L2xhYmVsPlwiO1xuXG5cdGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIHNtdXNoX21lZGlhLnZpZXcgJiYgJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBzbXVzaF9tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5Ud29Db2x1bW4pIHtcblx0XHQvLyBMb2NhbCBpbnN0YW5jZSBvZiB0aGUgQXR0YWNobWVudCBEZXRhaWxzIFR3b0NvbHVtbiB1c2VkIGluIHRoZSBlZGl0IGF0dGFjaG1lbnQgbW9kYWwgdmlld1xuXHRcdHZhciBzbXVzaE1lZGlhVHdvQ29sdW1uID0gc211c2hfbWVkaWEudmlldy5BdHRhY2htZW50LkRldGFpbHMuVHdvQ29sdW1uO1xuXG5cdFx0LyoqXG4gICAqIEFkZCBTbXVzaCBkZXRhaWxzIHRvIGF0dGFjaG1lbnQuXG4gICpcbiAgKiBBIHNpbWlsYXIgdmlldyB0byBtZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlsc1xuICAqIGZvciB1c2UgaW4gdGhlIEVkaXQgQXR0YWNobWVudCBtb2RhbC5cbiAgKlxuICAqIEBzZWUgd3AtaW5jbHVkZXMvanMvbWVkaWEtZ3JpZC5qc1xuICAgKi9cblx0XHRzbXVzaF9tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscy5Ud29Db2x1bW4gPSBzbXVzaE1lZGlhVHdvQ29sdW1uLmV4dGVuZCh7XG5cblx0XHRcdHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkge1xuXHRcdFx0XHQvLyBFbnN1cmUgdGhhdCB0aGUgbWFpbiBhdHRhY2htZW50IGZpZWxkcyBhcmUgcmVuZGVyZWQuXG5cdFx0XHRcdHNtdXNoX21lZGlhLnZpZXcuQXR0YWNobWVudC5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cblx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLm1vZGVsLmdldCgnc211c2gnKSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8qKlxuICAgICAqIERldGFjaCB0aGUgdmlld3MsIGFwcGVuZCBvdXIgY3VzdG9tIGZpZWxkcywgbWFrZSBzdXJlIHRoYXQgb3VyIGRhdGEgaXMgZnVsbHkgdXBkYXRlZFxuICAgICAqIGFuZCByZS1yZW5kZXIgdGhlIHVwZGF0ZWQgdmlldy5cbiAgICAgKi9cblx0XHRcdFx0dGhpcy52aWV3cy5kZXRhY2goKTtcblxuXHRcdFx0XHR2YXIgZGV0YWlsc0h0bWwgPSB0aGlzLiRlbC5maW5kKCcuc2V0dGluZ3MnKTtcblxuXHRcdFx0XHQvLyBDcmVhdGUgdGhlIHRlbXBsYXRlLlxuXHRcdFx0XHR2YXIgdGVtcGxhdGUgPSBfLnRlbXBsYXRlKHNoYXJlZFRlbXBsYXRlKTtcblx0XHRcdFx0dmFyIGh0bWwgPSB0ZW1wbGF0ZSh7XG5cdFx0XHRcdFx0LyoqXG4gICAgICAqIEB2YXIge2FycmF5fSAgc211c2hfdmFycy5zdHJpbmdzICBMb2NhbGl6YXRpb24gc3RyaW5ncy5cbiAgICAgICogQHZhciB7b2JqZWN0fSBzbXVzaF92YXJzICAgICAgICAgIE9iamVjdCBmcm9tIHdwX2xvY2FsaXplX3NjcmlwdCgpXG4gICAgICAqL1xuXHRcdFx0XHRcdGxhYmVsOiBzbXVzaF92YXJzLnN0cmluZ3NbJ3N0YXRzX2xhYmVsJ10sXG5cdFx0XHRcdFx0dmFsdWU6IHRoaXMubW9kZWwuZ2V0KCdzbXVzaCcpXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGRldGFpbHNIdG1sLmFwcGVuZChodG1sKTtcblx0XHRcdFx0dGhpcy5tb2RlbC5mZXRjaCgpO1xuXHRcdFx0XHR0aGlzLnZpZXdzLnJlbmRlcigpO1xuXG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gTG9jYWwgaW5zdGFuY2Ugb2YgdGhlIEF0dGFjaG1lbnQgRGV0YWlscyBUd29Db2x1bW4gdXNlZCBpbiB0aGUgZWRpdCBhdHRhY2htZW50IG1vZGFsIHZpZXdcblx0dmFyIHNtdXNoQXR0YWNobWVudERldGFpbHMgPSBzbXVzaF9tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscztcblxuXHQvKipcbiAgKiBBZGQgU211c2ggZGV0YWlscyB0byBhdHRhY2htZW50LlxuICAqL1xuXHRzbXVzaF9tZWRpYS52aWV3LkF0dGFjaG1lbnQuRGV0YWlscyA9IHNtdXNoQXR0YWNobWVudERldGFpbHMuZXh0ZW5kKHtcblx0XHRpbml0aWFsaXplOiBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXHRcdFx0dGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnY2hhbmdlJywgdGhpcy5yZW5kZXIpO1xuXHRcdFx0dGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLCAnZGVzdHJveScsIHRoaXMucmVtb3ZlKTtcblx0XHR9LFxuXG5cdFx0cmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG5cdFx0XHQvLyBFbnN1cmUgdGhhdCB0aGUgbWFpbiBhdHRhY2htZW50IGZpZWxkcyBhcmUgcmVuZGVyZWQuXG5cdFx0XHRzbXVzaF9tZWRpYS52aWV3LkF0dGFjaG1lbnQucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRoaXMubW9kZWwuZ2V0KCdzbXVzaCcpID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCF0aGlzLm1vZGVsLmlzTmV3KCkpIHtcblx0XHRcdFx0c2V0VGltZW91dCh0aGlzLnJlQ2hlY2tTdGF0dXMsIDIwMDAsIHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcbiAgICAqIERldGFjaCB0aGUgdmlld3MsIGFwcGVuZCBvdXIgY3VzdG9tIGZpZWxkcywgbWFrZSBzdXJlIHRoYXQgb3VyIGRhdGEgaXMgZnVsbHkgdXBkYXRlZFxuICAgICogYW5kIHJlLXJlbmRlciB0aGUgdXBkYXRlZCB2aWV3LlxuICAgICovXG5cdFx0XHR0aGlzLnZpZXdzLmRldGFjaCgpO1xuXG5cdFx0XHR2YXIgdGVtcGxhdGUgPSBfLnRlbXBsYXRlKHNoYXJlZFRlbXBsYXRlKTtcblx0XHRcdHZhciBodG1sID0gdGVtcGxhdGUoe1xuXHRcdFx0XHQvKipcbiAgICAgKiBAdmFyIHtvYmplY3R9IHNtdXNoX3ZhcnMgICAgICAgICAgT2JqZWN0IGZyb20gd3BfbG9jYWxpemVfc2NyaXB0KClcbiAgICAgKiBAdmFyIHthcnJheX0gIHNtdXNoX3ZhcnMuc3RyaW5ncyAgTG9jYWxpemF0aW9uIHN0cmluZ3MuXG4gICAgICovXG5cdFx0XHRcdGxhYmVsOiBzbXVzaF92YXJzLnN0cmluZ3NbJ3N0YXRzX2xhYmVsJ10sXG5cdFx0XHRcdHZhbHVlOiB0aGlzLm1vZGVsLmdldCgnc211c2gnKVxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuJGVsLmFwcGVuZChodG1sKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblxuXHRcdHJlQ2hlY2tTdGF0dXM6IGZ1bmN0aW9uIHJlQ2hlY2tTdGF0dXMob2JqKSB7XG5cdFx0XHR2YXIgX3RoaXMgPSBvYmo7XG5cblx0XHRcdHZhciBpbWFnZSA9IG5ldyB3cC5hcGkubW9kZWxzLk1lZGlhKHsgaWQ6IG9iai5tb2RlbC5nZXQoJ2lkJykgfSk7XG5cdFx0XHRpbWFnZS5mZXRjaCh7IGF0dHJpYnV0ZTogJ3NtdXNoJyB9KS5kb25lKGZ1bmN0aW9uIChpbWcpIHtcblx0XHRcdFx0LyoqIEB2YXIge29iamVjdHxzdHJpbmd9IGltZy5zbXVzaCAgU211c2ggc3RhdHMuICovXG5cdFx0XHRcdGlmIChfdHlwZW9mKGltZy5zbXVzaCkgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdFx0X3RoaXMubW9kZWwuZmV0Y2goKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRfdGhpcy5yZW5kZXIoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn0pKGpRdWVyeSwgXyk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_src/js/media.js\n");

/***/ })

/******/ });